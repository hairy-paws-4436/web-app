<div class="change-password-container">
  <h3 class="section-title">Change Password</h3>
  <p class="section-description">Update your password to keep your account secure</p>

  <div class="password-security-tips">
    <h4 class="tips-title">Password Security Tips</h4>
    <ul class="tips-list">
      <li>Use at least 8 characters</li>
      <li>Include uppercase and lowercase letters</li>
      <li>Include numbers and special characters</li>
      <li>Don't reuse passwords from other sites</li>
    </ul>
  </div>

  <p-divider></p-divider>

  <form [formGroup]="passwordForm" (ngSubmit)="onSubmit()" class="password-form">
    <div class="field">
      <label for="oldPassword" class="block font-medium mb-2">Current Password *</label>
      <p-password
        id="oldPassword"
        formControlName="oldPassword"
        [feedback]="false"
        [toggleMask]="true"
        [ngClass]="{'ng-invalid ng-dirty': isInvalid('oldPassword')}"
        styleClass="w-full">
      </p-password>
      <small *ngIf="isInvalid('oldPassword')" class="p-error">{{ getErrorMessage('oldPassword') }}</small>
    </div>

    <div class="field">
      <label for="newPassword" class="block font-medium mb-2">New Password *</label>
      <p-password
        id="newPassword"
        formControlName="newPassword"
        [toggleMask]="true"
        [ngClass]="{'ng-invalid ng-dirty': isInvalid('newPassword')}"
        styleClass="w-full">
      </p-password>
      <small *ngIf="isInvalid('newPassword')" class="p-error">{{ getErrorMessage('newPassword') }}</small>
    </div>

    <div class="field">
      <label for="confirmPassword" class="block font-medium mb-2">Confirm New Password *</label>
      <p-password
        id="confirmPassword"
        formControlName="confirmPassword"
        [feedback]="false"
        [toggleMask]="true"
        [ngClass]="{'ng-invalid ng-dirty': isInvalid('confirmPassword')}"
        styleClass="w-full">
      </p-password>
      <small *ngIf="isInvalid('confirmPassword')" class="p-error">{{ getErrorMessage('confirmPassword') }}</small>
    </div>

    <div class="form-actions">
      <button
        pButton
        pRipple
        type="submit"
        label="Change Password"
        icon="pi pi-lock"
        [loading]="isSubmitting"
        [disabled]="isSubmitting || passwordForm.invalid"
        class="p-button-primary">
      </button>
    </div>
  </form>
</div>
